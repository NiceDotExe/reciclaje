(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{dfbc:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.DetallesUsuario.admin?a("div",[a("QuejasAdmin")],1):a("div",[a("QuejasUser")],1)])},s=[],n=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("c47a")),o=a.n(n),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"q-pa-lg column col justify-end"},[a("q-chat-message",{attrs:{text:["Por favor escribanos sus quejas y reclamos ...."]}})," "!==e.quejas.texto?a("q-chat-message",{attrs:{text:[e.quejas.texto],sent:""}}):e._e()," "!==e.quejas.texto?a("q-chat-message",{attrs:{text:[e.quejas.fecha],sent:""}}):e._e()," "!==e.quejas.texto?a("q-chat-message",{attrs:{text:["su petición ha sido enviada"]}}):e._e(),e.DetallesUsuario.respuesta?a("q-chat-message",{attrs:{text:["su petición ha sido leida"]}}):e._e()],1),a("q-footer",{staticClass:"bg-white"},[a("q-form",{on:{submit:e.agregar}},[a("q-input",{staticClass:"q-ma-sm",attrs:{autofocus:"",rounded:"",outlined:"","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Debes Digitar algo"},function(e){return e&&e.length<100||"No más de 250 caracteres"}]},model:{value:e.texto,callback:function(t){e.texto=t},expression:"texto"}},[[a("q-btn",{attrs:{round:"",dense:"",flat:"",type:"submit",icon:"send"}})]],2)],1)],1)],1)},c=[],u=a("2f62"),l=a("fc1b");function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){o()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={data:function(){return{texto:" ",mensajes:[]}},computed:f({},Object(u["e"])("usuarios",["DetallesUsuario"]),{},Object(u["c"])("usuarios",["quejas"])),methods:f({},Object(u["b"])("usuarios",["AgregarQueja"]),{agregar:function(){this.AgregarQueja({id:this.DetallesUsuario.idUsuario,usuario:this.DetallesUsuario.email,barrio:this.DetallesUsuario.barrio,texto:this.texto}),this.texto=""}})},p=d,j=a("2877"),m=a("eebe"),O=a.n(m),h=a("8169"),v=a("7ff0"),g=a("0378"),q=a("27f9"),y=a("9c40"),x=Object(j["a"])(p,i,c,!1,null,null,null),Q=x.exports;O()(x,"components",{QChatMessage:h["a"],QFooter:v["a"],QForm:g["a"],QInput:q["a"],QBtn:y["a"]});var _=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-tabs",{staticClass:"text-grey",attrs:{dense:"","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab",{attrs:{name:"quejas",label:"Quejas"}}),a("q-tab",{attrs:{name:"historial",label:"Historial"}})],1),a("q-separator"),a("q-tab-panels",{attrs:{animated:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab-panel",{attrs:{name:"quejas"}},[a("div",{staticClass:"flex flex-center"},e._l(e.quejas,(function(t,r){return a("q-card",{key:r,staticClass:"bg-white q-ma-md",staticStyle:{width:"360px"},attrs:{bordered:"",color:"black"}},[a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v(e._s(t.usuario))]),a("p",[e._v(e._s(t.fecha)+"-"+e._s(t.barrio))])]),a("q-card-section",[a("p",[e._v(e._s(t.texto))])]),a("q-separator",{attrs:{dark:"",inset:""}}),a("q-card-section",[a("q-btn",{attrs:{color:"negative",icon:"delete",label:"Eliminar"},on:{click:function(t){return e.Eliminar(r)}}})],1)],1)})),1)]),a("q-tab-panel",{attrs:{name:"historial"}},[a("historial")],1)],1)],1)},w=[],P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",e._l(e.listaQuejas,(function(t,r){return a("q-card",{key:r,staticClass:"my-card"},[a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v("Usuario:"+e._s(t.usuario)+" - "+e._s(t.barrio))]),a("div",{staticClass:"text-subtitle2"},[e._v("fecha de atencion:"+e._s(t.fechaEliminacion)+" fecha de recepcion:"+e._s(t.fecha))])]),a("q-card-section",[e._v("\n           Queja:"+e._s(t.texto)+" Lorem ipsum dolor sit amet, consectetur adipisicing elit. Placeat mollitia fugiat dolorum. Optio laudantium sapiente nisi minima vero consequuntur labore explicabo itaque voluptates commodi. Ea deleniti numquam enim recusandae labore?\n        ")])],1)})),1)},D=[],C={data:function(){return{listaQuejas:[]}},methods:{cargarQuejas:function(){var e=this;l["b"].ref("quejasatendidas").on("child_added",(function(t){e.listaQuejas.push(t.val())}))}},created:function(){this.cargarQuejas()}},E=C,k=a("f09f"),U=a("a370"),S=Object(j["a"])(E,P,D,!1,null,null,null),A=S.exports;function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function $(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(Object(a),!0).forEach((function(t){o()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}O()(S,"components",{QCard:k["a"],QCardSection:U["a"]});var B={data:function(){return{quejas:[],tab:"quejas"}},components:{historial:A},computed:$({},Object(u["e"])("usuarios",["DetallesUsuario"])),created:function(){this.cargarQuejas()},methods:{cargarQuejas:function(){var e=this;l["b"].ref("quejas/").on("value",(function(t){e.quejas=t.val()}))},Eliminar:function(e){l["b"].ref("quejas/"+e).once("value").then((function(e){l["b"].ref("quejasatendidas").push($({},e.val(),{fechaRespuesta:(new Date).toLocaleString()}))})),l["b"].ref("quejas/"+e).remove(),l["b"].ref("usuarios/"+e).update({respuesta:!0})}}},F=B,J=a("429b"),L=a("7460"),z=a("eb85"),H=a("adad"),I=a("823b"),M=Object(j["a"])(F,_,w,!1,null,null,null),N=M.exports;function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(Object(a),!0).forEach((function(t){o()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}O()(M,"components",{QTabs:J["a"],QTab:L["a"],QSeparator:z["a"],QTabPanels:H["a"],QTabPanel:I["a"],QCard:k["a"],QCardSection:U["a"],QBtn:y["a"]});var K={components:{QuejasUser:Q,QuejasAdmin:N},computed:G({},Object(u["e"])("usuarios",["DetallesUsuario"]))},V=K,W=Object(j["a"])(V,r,s,!1,null,null,null);t["default"]=W.exports}}]);